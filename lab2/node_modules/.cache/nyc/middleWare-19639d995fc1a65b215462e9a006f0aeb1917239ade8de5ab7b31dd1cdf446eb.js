function cov_7epffmjke(){var path="C:\\Users\\enhac\\Documents\\tdp013_gruppc_vikro653_danhu849\\lab2\\lib\\middleWare.js";var hash="510abe503d641d1921aa090a41a170b8478c6bc9";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\enhac\\Documents\\tdp013_gruppc_vikro653_danhu849\\lab2\\lib\\middleWare.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:26}},"1":{start:{line:2,column:19},end:{line:16,column:1}},"2":{start:{line:3,column:4},end:{line:15,column:5}},"3":{start:{line:4,column:26},end:{line:4,column:56}},"4":{start:{line:5,column:22},end:{line:5,column:35}},"5":{start:{line:7,column:8},end:{line:14,column:9}},"6":{start:{line:7,column:21},end:{line:7,column:28}},"7":{start:{line:9,column:32},end:{line:9,column:37}},"8":{start:{line:10,column:28},end:{line:10,column:65}},"9":{start:{line:10,column:45},end:{line:10,column:54}},"10":{start:{line:12,column:12},end:{line:12,column:42}},"11":{start:{line:13,column:12},end:{line:13,column:52}},"12":{start:{line:17,column:0},end:{line:17,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:19},end:{line:2,column:20}},loc:{start:{line:2,column:46},end:{line:16,column:1}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:3,column:11},end:{line:3,column:12}},loc:{start:{line:3,column:36},end:{line:15,column:5}},line:3},"2":{name:"(anonymous_2)",decl:{start:{line:10,column:40},end:{line:10,column:41}},loc:{start:{line:10,column:45},end:{line:10,column:54}},line:10}},branchMap:{"0":{loc:{start:{line:7,column:8},end:{line:14,column:9}},type:"if",locations:[{start:{line:7,column:8},end:{line:14,column:9}},{start:{line:7,column:8},end:{line:14,column:9}}],line:7}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"510abe503d641d1921aa090a41a170b8478c6bc9"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_7epffmjke=function(){return actualCoverage;};}return actualCoverage;}cov_7epffmjke();const Joi=(cov_7epffmjke().s[0]++,require('joi'));cov_7epffmjke().s[1]++;const middleware=function(schema,property){cov_7epffmjke().f[0]++;cov_7epffmjke().s[2]++;return function(req,res,next){cov_7epffmjke().f[1]++;const{error}=(cov_7epffmjke().s[3]++,schema.validate(req[property]));const valid=(cov_7epffmjke().s[4]++,error==null);cov_7epffmjke().s[5]++;if(valid){cov_7epffmjke().b[0][0]++;cov_7epffmjke().s[6]++;next();}else{cov_7epffmjke().b[0][1]++;// måste ändra här om kravspecen ska uppfyllas.
const{details}=(cov_7epffmjke().s[7]++,error);const message=(cov_7epffmjke().s[8]++,details.map(i=>{cov_7epffmjke().f[2]++;cov_7epffmjke().s[9]++;return i.message;}).join(','));cov_7epffmjke().s[10]++;console.log("error",message);cov_7epffmjke().s[11]++;res.status(422).json({error:message});}};};cov_7epffmjke().s[12]++;module.exports=middleware;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZVdhcmUuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsIm1pZGRsZXdhcmUiLCJzY2hlbWEiLCJwcm9wZXJ0eSIsInJlcSIsInJlcyIsIm5leHQiLCJlcnJvciIsInZhbGlkYXRlIiwidmFsaWQiLCJkZXRhaWxzIiwibWVzc2FnZSIsIm1hcCIsImkiLCJqb2luIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImpzb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoic2pFQWVZO3lGQWZaLEtBQU1BLENBQUFBLEdBQUcseUJBQUdDLE9BQU8sQ0FBQyxLQUFELENBQVYsQ0FBVCxDLHVCQUNBLEtBQU1DLENBQUFBLFVBQVUsQ0FBRyxTQUFTQyxNQUFULENBQWlCQyxRQUFqQixDQUEyQiwrQ0FDMUMsTUFBTyxVQUFTQyxHQUFULENBQWNDLEdBQWQsQ0FBbUJDLElBQW5CLENBQXlCLHdCQUM1QixLQUFNLENBQUVDLEtBQUYsMEJBQVlMLE1BQU0sQ0FBQ00sUUFBUCxDQUFnQkosR0FBRyxDQUFDRCxRQUFELENBQW5CLENBQVosQ0FBTixDQUNBLEtBQU1NLENBQUFBLEtBQUsseUJBQUdGLEtBQUssRUFBSSxJQUFaLENBQVgsQ0FGNEIsdUJBSTVCLEdBQUlFLEtBQUosQ0FBVyxrREFBRUgsSUFBSSxHQUFLLENBQXRCLElBQ0ssMkJBQUU7QUFDSCxLQUFNLENBQUVJLE9BQUYsMEJBQWNILEtBQWQsQ0FBTixDQUNBLEtBQU1JLENBQUFBLE9BQU8seUJBQUdELE9BQU8sQ0FBQ0UsR0FBUixDQUFZQyxDQUFDLEVBQUkscURBQUFBLENBQUFBLENBQUMsQ0FBQ0YsT0FBRixDQUFTLENBQTFCLEVBQTRCRyxJQUE1QixDQUFpQyxHQUFqQyxDQUFILENBQWIsQ0FGQyx3QkFJREMsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixDQUFxQkwsT0FBckIsRUFKQyx3QkFLRE4sR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsQ0FBRVgsS0FBSyxDQUFFSSxPQUFULENBQXJCLEVBQ0gsQ0FDSixDQVpELENBYUgsQ0FkRCxDLHdCQWVBUSxNQUFNLENBQUNDLE9BQVAsQ0FBaUJuQixVQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoJ2pvaScpO1xyXG5jb25zdCBtaWRkbGV3YXJlID0gZnVuY3Rpb24oc2NoZW1hLCBwcm9wZXJ0eSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gc2NoZW1hLnZhbGlkYXRlKHJlcVtwcm9wZXJ0eV0pO1xyXG4gICAgICAgIGNvbnN0IHZhbGlkID0gZXJyb3IgPT0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodmFsaWQpIHsgbmV4dCgpOyB9XHJcbiAgICAgICAgZWxzZSB7IC8vIG3DpXN0ZSDDpG5kcmEgaMOkciBvbSBrcmF2c3BlY2VuIHNrYSB1cHBmeWxsYXMuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgZGV0YWlscyB9ID0gZXJyb3I7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkZXRhaWxzLm1hcChpID0+IGkubWVzc2FnZSkuam9pbignLCcpO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oeyBlcnJvcjogbWVzc2FnZSB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IG1pZGRsZXdhcmU7Il19